(function(){function m(a,j){function f(c){return Math.floor(a.width*-1+a.width/100*c)}function k(c,b){$(c).is("textarea,input,select")?$(c).attr("value",b).val(b).attr("title",b+"%"):$(c).text(b+"%")}if(a=="destroy"){$(this).each(function(){$(this).show();this.p&&$(this.p).remove()});return this}var g={width:200,height:15,border:"1px solid #000000",color:"#cc0000",background:"#ffffff",clickable:true,classname:"percentage",display:"inline-block"};if(a==undefined)a=g;else for(i in g)if(a[i]==undefined)a[i]=g[i];if(a=="set"){$(this).each(function(){a=this.pc;k(this,j);$(this.p).find("div").css("left",f(j))});return this}$(this).each(function(){function c(e){var n=$(this).offset();e=Math.ceil((e.clientX-n.left)/(a.width/100));k(b,e);$(b).trigger("clickupdate");$(l).css("left",f(e));return false}var b=this,d=$("<div></div>"),l=$("<div></div>"),h;h=$(b).is("textarea,input,select")?$(b).val():parseInt($(b).text().replace("%",""));$(d).attr("title",h+"%").css("display",a.display).css("border",a.border).css("background",a.background).css("position","relative").css("overflow","hidden").css("width",a.width).css("height",a.height);a.clickable&&$(d).click(c);a.classname&&$(d).addClass(a.classname);$(l).css("background",a.color).css("position","absolute").css("top",0).css("left",f(h)).css("width",a.width).css("height",a.height).appendTo(d);$(b).hide().after(d);this.p=d;this.pc=a});return this}jQuery.fn.percentage=function(){m.apply(this,arguments)}})();
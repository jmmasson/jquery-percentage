(function(){function j(a){if(a=="destroy")$(this).each(function(){$(this).show();this.percentage&&$(this.percentage).remove()});else{var f={width:200,height:15,border:"1px solid #000000",color:"#cc0000",background:"#ffffff",clickable:true,classname:"percentage",display:"inline-block"};if(a==undefined)a=f;else for(i in f)if(a[i]==undefined)a[i]=f[i];$(this).each(function(){function k(b){var l=$(this).offset();b=Math.ceil((b.clientX-l.left)/(a.width/100));g?$(c).attr("value",b).val(b).attr("title",
b+"%").trigger("clickupdate"):$(c).text(b+"%").trigger("clickupdate");$(h).css("left",Math.floor(a.width*-1+a.width/100*b));return false}var c=this,d=$("<div></div>"),h=$("<div></div>"),e,g;if($(c).is("textarea,input,select")){e=$(c).val();g=true}else{e=parseInt($(c).text().replace("%",""));g=false}$(d).attr("title",e+"%").css("display",a.display).css("border",a.border).css("background",a.background).css("position","relative").css("overflow","hidden").css("width",a.width).css("height",a.height);a.clickable&&
$(d).click(k);a.classname&&$(d).addClass(a.classname);$(h).css("background",a.color).css("position","absolute").css("top",0).css("left",Math.floor(a.width*-1+a.width/100*e)).css("width",a.width).css("height",a.height).appendTo(d);$(c).hide().after(d);this.percentage=d});return this}}jQuery.fn.percentage=function(){j.apply(this,arguments)}})();